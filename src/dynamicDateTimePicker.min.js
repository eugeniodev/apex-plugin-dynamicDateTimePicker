!function(t){t.widget("ui.dynamicDateTimePicker",{options:{dateItemID:"",dateToItem:null,desktopUI:!0,dateTimeSplit:!1,showMethod:null,todayBtnText:null,classes:"",inline:!1,language:"en",firstDay:"",weekends:[6,0],dateFormat:"",toggleSelected:!0,keyboardNav:!0,position:"bottom left",offset:12,view:"days",minView:"days",showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:",",range:!1,todayButton:!1,clearButton:!1,autoClose:!1,navTitles:{days:"MM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:"",onShow:"",onHide:"",onChangeMonth:"",onChangeYear:"",onChangeDecade:"",onChangeView:"",onRenderCell:""},_setWidgetVars:function(){1==this.options.desktopUI?this.apex={item:this.element,$elm:t(this.element),toItem:t(document.getElementById(this.options.dateToItem)),datepickerButton:this.element.nextAll("button").first(),datepickerToButton:t(document.getElementById(this.options.dateToItem)).nextAll("button").first(),picker:null,toPicker:null}:this.apex={item:this.element,$elm:t(this.element),toItem:t(document.getElementById(this.options.dateToItem)),picker:null,toPicker:null},this.dateTo={item:t(this.options.dateToItem),datepickerButton:null},this._scope="ui.dynamicDateTimePicker"},_init:function(){apex.debug.log(this._scope,"_init",this)},_create:function(){null!=this.options.dateToItem&&1==this.options.range&&1==this.options.desktopUI&&t("#"+this.options.dateToItem).after('<button type="button" class="dyndatepicker-trigger a-Button a-Button--calendar"><span class="a-Icon icon-calendar"></span></button>'),this._setWidgetVars();this._scope+"_create";apex.debug.log("this:",this);apex.debug.log("element:",this.apex.item),"right bottom"!=this.options.position&&"right top"!=this.options.position||(this.options.offset=47),this.options.onSelect=function(e,i,o){null!=o.opts.dateToItem&&1==o.opts.range?(t("#"+o.opts.dateItemID).val(e.split(o.opts.multipleDatesSeparator)[0]),t("#"+o.opts.dateToItem).val(e.split(o.opts.multipleDatesSeparator)[1])):null!=o.opts.dateToItem&&1==o.opts.dateTimeSplit&&(t("#"+o.el.id).val(e.split(o.opts.dateTimeSeparator)[0]),t("#"+o.opts.dateToItem).val(e.split(o.opts.dateTimeSeparator)[1]));var n={fd:e,date:i,inst:o},s=t("#"+o.el.id);s.trigger("onselect",n)},this.options.onShow=function(e,i){var o={inst:e,animationCompleted:i},n=t("#"+e.el.id);i&&n.trigger("onshow",o)},this.options.onHide=function(e,i){var o={inst:e,animationCompleted:i},n=t("#"+e.el.id);i&&n.trigger("onhide",o)},this.options.onChangeMonth=function(e,i){var o={month:e,year:i,inst:this},n=t("#"+this.dateItemID);n.trigger("onchangemonth",o)},this.options.onChangeYear=function(e){var i={year:e,inst:this},o=t("#"+this.dateItemID);o.trigger("onchangeyear",i)},this.options.onChangeDecade=function(e){var i={decade:e,inst:this},o=t("#"+this.dateItemID);o.trigger("onchangedecade",i)},this.options.onChangeView=function(e){var i={view:e,inst:this},o=t("#"+this.dateItemID);o.trigger("onchangeview",i)},this.options.onRenderCell=function(e,i){var o={date:e,cellType:i,inst:this},n=t("#"+this.dateItemID);n.trigger("onrendercell",o)},this.options.showEvent="",this.apex.picker=this.apex.item.datepicker(this.options,function(){}).data("datepicker"),null!=this.options.dateToItem&&1==this.options.range&&1==this.options.inline&&1==this.options.desktopUI&&t("#"+this.options.dateItemID).after('<button type="button" class="dyndatepicker-trigger a-Button a-Button--calendar"><span class="a-Icon icon-calendar"></span></button>'),"click"==this.options.showMethod?(this.apex.item.on("click",t.proxy(this._nativeShowPicker,this)),this.apex.toItem.on("click",t.proxy(this._nativeShowPicker,this))):"icon"==this.options.showMethod&&1==this.options.desktopUI?(this.apex.datepickerButton.on("click",t.proxy(this._nativeShowPicker,this)),this.apex.datepickerToButton.on("click",t.proxy(this._nativeShowPicker,this))):"clickicon"==this.options.showMethod?(this.apex.item.on("click",t.proxy(this._nativeShowPicker,this)),this.apex.toItem.on("click",t.proxy(this._nativeShowPicker,this)),1==this.options.desktopUI&&(this.apex.datepickerButton.on("click",t.proxy(this._nativeShowPicker,this)),this.apex.datepickerToButton.on("click",t.proxy(this._nativeShowPicker,this)))):"focus"==this.options.showMethod?this.apex.item.on("focus",t.proxy(this._nativeShowPicker,this)):"mouseenter"==this.options.showMethod&&(this.apex.item.on("mouseenter",t.proxy(this._nativeShowPicker,this)),this.apex.datepickerButton.on("mouseenter",t.proxy(this._nativeShowPicker,this))),this._apex_da(this.apex)},_nativeShowPicker:function(){return this.apex.item.is(".disabled")?!1:void this.apex.picker.show()},_nativePickerHide:function(){return this.apex.item.is(".disabled")?!1:void this.apex.picker.hide()},_apex_da:function(t){var e=t.item.attr("id"),i={enable:function(){t.item.dynamicDateTimePicker("enable").removeClass("apex_disabled")},disable:function(){t.item.prop("disabled",!0).addClass("apex_disabled").addClass("disabled"),t.datepickerButton.prop("disabled",!0).addClass("disabled"),console.log(t)},afterModify:function(){},loadingIndicator:function(t){return t}};apex.widget.initPageItem(e,i)},destroy:function(){apex.debug.log(this._scope,"destroy",this),t.Widget.prototype.destroy.apply(this,arguments),t(this.element).datepicker("destroy")}})}(apex.jQuery,apex.widget);